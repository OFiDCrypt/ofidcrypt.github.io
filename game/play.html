<!DOCTYPE html>
<html lang="en-GB">
<!-- Massively by HTML5 UP | html5up.net | @ajlkn
     Free for personal and commercial use under the CCA 3.0 license (html5up.net/license) -->

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3KX9VK5CCH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-3KX9VK5CCH');
    </script>

    <!-- JSON -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "OFiDCrypt",
      "url": "https://www.ofidcrypt.com",
      "logo": [
        "https://www.ofidcrypt.com/assets/images/ofid-logo-saturn01.png",
        "https://www.ofidcrypt.com/assets/images/webp/bg-ofid-giddys.webp"
      ],
      "sameAs": [
        "https://x.com/OFiDCrypt",
        "https://x.com/Giddys_CA",
        "https://youtube.com/@OFiDCrypt",
        "https://www.tiktok.com/@Giddys_CA",
        "https://www.facebook.com/OFiDCrypt",
        "https://linkedin.com/company/OFiDCrypt",
        "https://www.instagram.com/OFiDCrypt"
      ]
    }
    </script>

    <!-- Meta Description (for SEO) -->
    <title>Play Giddy's Blinko | OFiDCrypt</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description"
        content="A retro collect-to-win game from the creators of Giddy's Universe ‚Äî by DiscoCar Games. Play Blinko, collect Bouncy Balls, and reveal mystery Collectibles!">
    <meta name="keywords" content="cryptocurrency, kinnected wallet, vip, OFiDCrypt, crypto community">
    <meta name="author" content="Tokin ‚¨¢">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Play Giddy's Blinko | OFiDCrypt">
    <meta property="og:description"
        content="A retro collect-to-win game from the creators of Giddy's Universe ‚Äî by DiscoCar Games. Play Blinko, collect Bouncy Balls, and reveal mystery Collectibles!">
    <meta property="og:image" content="https://www.ofidcrypt.com/assets/images/webp/bg-giddy-blinko.webp">
    <meta property="og:url" content="https://www.ofidcrypt.com/game/play">
    <meta property="og:type" content="website">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Play Giddy's Blinko | OFiDCrypt">
    <meta name="twitter:description"
        content="A retro collect-to-win game from the creators of Giddy's Universe ‚Äî by DiscoCar Games. Play Blinko, collect Bouncy Balls, and reveal mystery Collectibles!">
    <meta name="twitter:image" content="https://www.ofidcrypt.com/assets/images/webp/bg-giddy-blinko.webp">
    <meta name="twitter:url" content="https://www.ofidcrypt.com/game/play">



    <!-- Default ICO file with multiple sizes -->
    <link rel="icon" type="image/x-icon" href="../favicon.ico">

    <!-- Specific PNG sizes for modern browsers -->
    <link rel="icon" type="image/png" sizes="1280x1280" href="../favicon.png">

    <!-- Default Apple-Touch-Icon sizes -->
    <link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">

    <!-- Apple Compatibility -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#000000">

    <!-- Canonical Preferred URL -->
    <link rel="canonical" href="https://www.ofidcrypt.com/game/play">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="../assets/css/main.css">
    <noscript>
        <link rel="stylesheet" href="../assets/css/noscript.css">
    </noscript>

    <!-- Unity Template Styles (integrated to match your site) -->
    <link rel="stylesheet" href="TemplateData/style.css"> <!-- Ensure TemplateData/ is uploaded -->

    <style>
        /* ============================
       BASE UNITY CONTAINER
       ============================ */
        #unity-container {
            width: 100%;
            max-width: 960px;
            margin: 0 auto;
            position: relative;
            display: flex;
            flex-direction: column;

        }

        #unity-canvas {
            width: 100%;
            height: auto;
        }

#unity-footer {
    display: flex;
    justify-content: center;
    align-items: center;

    width: 100%;            /* always fill container */
    max-width: 600px;       /* ‚≠ê smoothly caps the width */
    margin: 0 auto;         /* center it */

    position: relative;
    overflow: visible;
    flex-shrink: 0;

    background: rgba(0, 0, 0, 0.5);
    padding: 8px 10px;
    box-sizing: border-box;
}

        #unity-webgl-logo {
            display: none;
        }

        #unity-build-title {
            font-size: 18px;
            color: white;
            text-align: center;
            flex: 1;
        }

        #unity-fullscreen-button {
            position: absolute;
            right: 8px;
            /* tighter edge fit */
            top: 50%;
            transform: translateY(-50%);
            width: 32px;
            /* slightly smaller for safety */
            height: 32px;
            cursor: pointer;

            /* ensures it never hides behind canvas or loading bar */
            z-index: 20;

            /* prevents clipping inside the footer */
            flex-shrink: 0;
        }

        /* ============================
       ‚≠ê CENTER THE UNITY LOADING BAR ‚≠ê
       ============================ */
        #unity-loading-bar {
            position: absolute !important;
            top: 58% !important;
            left: 50% !important;
            transform: translate(-50%, -50%) !important;

            width: 60%;
            height: auto;

            display: flex;
            /* <-- no !important */
            flex-direction: column;
            align-items: center;
            justify-content: center;

            visibility: visible;
            /* Unity will hide via display:none */
            pointer-events: none;
            margin: 0;
            padding: 0;
        }

        #unity-logo,
        #unity-progress-bar-empty,
        #unity-progress-bar-full {
            margin: 0 auto;
            display: block;
        }

        /* ============================
       MOBILE FULLSCREEN MODE
       ============================ */
        @media screen and (max-width: 768px) {

            #unity-container {
                width: 100vw !important;
                height: 100vh !important;
                max-width: none;
                margin: 0;
                padding: 0;
                position: fixed;
                top: 0;
                left: 0;
            }

            #unity-canvas {
                width: 100vw !important;
                height: 100vh !important;
            }

            #unity-loading-bar {
                width: 70%;
                top: 60% !important;
            }

            #unity-footer {
                width: auto;
            }

            #unity-fullscreen-button {
                right: 10px;
                width: 36px;
                height: 36px;
            }
        }

        /* ============================
       EXTRA SMALL PHONES
       ============================ */
        @media screen and (max-width: 420px) {

            #unity-fullscreen-button {
                right: 10px;
                width: 32px;
                height: 32px;
            }

            #unity-build-title {
                font-size: 16px;
            }

            #unity-footer {
                padding: 6px 10px;
            }
        }

        /* ============================
       MOBILE/DESKTOP TOGGLE
       ============================ */
        .mobile-launcher {
            display: none;
        }

        .desktop-only {
            display: flex;
            justify-content: center;
            width: 100%;
            overflow: hidden;
        }

        @media (max-width: 768px) {
            .mobile-launcher {
                display: block !important;
            }

            .desktop-only {
                display: none !important;
            }
        }
    </style>

    <!-- JavaScript Libraries -->
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script src="../assets/js/jquery.min.js"></script>
    <script src="../assets/js/browser.min.js"></script>

    <!-- Meta Language -->
    <meta http-equiv='content-language' content='en-gb'>

</head>

<body class="is-preload">

    <!-- Wrapper -->
    <div id="wrapper" class="fade-in">

        <!-- Header Subpage-->
        <header class="header-subpage">
			<a href="/game/app-play.html">
                <img src="../assets/images/giddys-blinko-logo-trans.png" alt="Giddy's Blinko Logo" class="logo">
            </a>
        </header>

        <!-- Your Dark Mode Toggle Button -->
        <a href="#darkModePanel" id="darkModeToggle" class="alt">
            <i class="fas fa-sun"></i>
        </a>

        <!-- Nav -->
        <nav id="nav">
            <ul class="links">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../ofidtales.html">Giddy's Shop</a></li>
                <li><a href="../explore.html">Wallets & Apps</a></li>
                <li><a href="../bouncyball.html">Tokens</a></li>
                <li><a href="../cashlinks.html">Digital Gifts</a></li>
            </ul>
            <ul class="icons">
                <li>
                    <a href="#" aria-label="Dark-Light Desktop Toggle Button">
                        <img src="../assets/images/darklight-toggle01.svg" alt="Dark-Light Desktop Toggle Button"
                            class="custom-site-icon">
                    </a>
                </li>
                <li>
                    <a href="https://www.ofidcrypt.ca" aria-label="Hvr">
                        <img src="../assets/images/hvr-logo01.svg" alt="Hvr Logo" class="custom-site-icon">
                    </a>
                </li>
                <li><a href="https://x.com/OFiDCrypt" class="icon brands fa-x-twitter"><span class="label">X</span></a>
                </li>
                <li><a href="https://youtube.com/@OFiDCrypt" class="icon brands fa-youtube"><span
                            class="label">YouTube</span></a></li>
                <li><a href="https://www.tiktok.com/@Giddys_CA" class="icon brands alt fa-tiktok"><span
                            class="label">TikTok</span></a></li>
                <li><a href="https://www.facebook.com/OFiDCrypt" class="icon brands alt fa-facebook-f"><span
                            class="label">Facebook</span></a></li>
                <li><a href="https://linkedin.com/company/OFiDCrypt" class="icon brands alt fa-linkedin"><span
                            class="label">LinkedIn</span></a></li>
            </ul>
        </nav>

        <!-- Main -->
        <div id="main">

            <!-- Scrolling Ad Banner -->
            <div id="expb-ball" class="ad-banner-wrapper">
                <div class="ad-scroll-container">
                    <a href="https://shop.ledger.com/pages/ledger-nano-s-plus/?r=aa8d4fce2d9a&tracker=ofid_banner_index"
                        class="ad-slide" style="border-bottom: none;">
                        <img src="/assets/images/ledger-nano-s-plus.png" alt="Ad Banner 1"
                            style="max-width: 100%; height: auto;">
                    </a>
                    <a href="https://kraken.pxf.io/xLox1A" class="ad-slide" style="border-bottom: none;">
                        <img src="/assets/images/kraken-banner-01.PNG" alt="Ad Banner 2"
                            style="max-width: 100%; height: auto;">
                    </a>
                    <a href="https://freeproducer.ca/" class="ad-slide" style="border-bottom: none;">
                        <img src="/assets/images/banner-free-producer.PNG" alt="Ad Banner 3"
                            style="max-width: 100%; height: auto;">
                    </a>
                    <a href="../bouncyball.html#buy-expb" class="ad-slide" style="border-bottom: none;">
                        <img src="/assets/images/expb-banner-01.png" alt="Ad Banner 4"
                            style="max-width: 100%; height: auto;">
                    </a>
                    <a href="https://t.co/gQBLmw20Qp" class="ad-slide" style="border-bottom: none;">
                        <img src="/assets/images/dobby-banner-01.png" alt="Ad Banner 5"
                            style="max-width: 100%; height: auto;">
                    </a>
                </div>
            </div>

            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const container = document.querySelector('.ad-scroll-container');
                    const slides = document.querySelectorAll('.ad-slide');
                    const totalSlides = slides.length;
                    let autoScrollInterval;
                    let currentIndex = 0; // Track current index globally

                    // Exit if no slides
                    if (totalSlides === 0) {
                        console.warn('No slides found in .ad-scroll-container');
                        return;
                    }

                    // Clone first slide for continuous loop
                    const firstSlideClone = slides[0].cloneNode(true);
                    container.appendChild(firstSlideClone);
                    const allSlides = container.querySelectorAll('.ad-slide'); // Include clone

                    // Force start on first slide
                    function setInitialPosition() {
                        container.scrollTo({ left: 0, behavior: 'instant' });
                        currentIndex = 0; // Reset index
                    }

                    // Calculate slide width
                    function getBoxWidth() {
                        const slideWidth = slides[0].offsetWidth; // Actual slide width
                        const slideMargin = window.innerWidth <= 480 ? 10 : 40; // 5px L+R mobile, 20px L+R desktop
                        const totalWidth = slideWidth + slideMargin;
                        console.log('Slide width:', slideWidth, 'Total width with margins:', totalWidth);
                        return totalWidth;
                    }

                    // Auto-scroll function
                    function startAutoScroll() {
                        function resetAutoScroll() {
                            if (autoScrollInterval) {
                                clearInterval(autoScrollInterval);
                            }
                            autoScrollInterval = setInterval(() => {
                                currentIndex++;
                                console.log('Scrolling to index:', currentIndex);
                                if (currentIndex >= totalSlides + 1) {
                                    // Reached clone, reset to first slide instantly
                                    container.scrollTo({ left: 0, behavior: 'instant' });
                                    currentIndex = 1; // Start from second slide
                                }
                                container.scrollTo({
                                    left: currentIndex * getBoxWidth(),
                                    behavior: 'smooth'
                                });
                            }, 8000); // 8 seconds
                        }

                        // Start auto-scrolling
                        resetAutoScroll();
                    }

                    // Handle touch gestures to allow taps and vertical scrolling, block horizontal swipes
                    let touchStartX = 0;
                    let touchStartY = 0;
                    let touchMoved = false;

                    container.addEventListener('touchstart', (e) => {
                        touchStartX = e.touches[0].clientX;
                        touchStartY = e.touches[0].clientY;
                        touchMoved = false;
                    }, { passive: true });

                    container.addEventListener('touchmove', (e) => {
                        const touchX = e.touches[0].clientX;
                        const touchY = e.touches[0].clientY;
                        const deltaX = Math.abs(touchX - touchStartX);
                        const deltaY = Math.abs(touchY - touchStartY);

                        // Block horizontal swipe (deltaX > 10, deltaY < 50)
                        if (deltaX > 10 && deltaY < 50) {
                            e.preventDefault(); // Block swipe
                            touchMoved = true;
                        }
                        // Allow vertical scrolling (deltaY > 50)
                        if (deltaY > 50) {
                            touchMoved = true; // Mark as moved, but don't prevent default
                        }
                    }, { passive: false });

                    container.addEventListener('touchend', (e) => {
                        if (!touchMoved) {
                            // Treat as tap, allow link click
                            const touchEndX = e.changedTouches[0].clientX;
                            const touchEndY = e.changedTouches[0].clientY;
                            const deltaX = Math.abs(touchEndX - touchStartX);
                            const deltaY = Math.abs(touchEndY - touchStartY);

                            if (deltaX < 10 && deltaY < 10) {
                                const target = e.target.closest('a');
                                if (target && target.href) {
                                    window.location.href = target.href; // Trigger link
                                }
                            }
                        }
                    }, { passive: true });

                    // Prevent wheel scrolling within carousel
                    container.addEventListener('wheel', (e) => e.preventDefault(), { passive: false });

                    // Debounce resize handler, preserve current slide
                    let resizeTimeout;
                    window.addEventListener('resize', () => {
                        clearTimeout(resizeTimeout);
                        resizeTimeout = setTimeout(() => {
                            // Restore current slide position instead of resetting
                            container.scrollTo({
                                left: currentIndex * getBoxWidth(),
                                behavior: 'instant'
                            });
                            startAutoScroll();
                        }, 100); // 100ms debounce
                    });

                    // Initialize
                    setInitialPosition();
                    startAutoScroll();
                });
            </script>

            <!-- Post -->
            <section class="post">
                <header class="major">
                    <span class="date">DiscoCar Games</span>
                    <h1 class="align-center">Play Giddy's Blinko</h1>
                    <p class="align-center">Click, drop and collect bouncy balls! Coming Soon ‚Äî Connect your Solana
                        wallet for digital gifts!</p>
                </header>

                <!-- MOBILE-ONLY LAUNCHER -->
                <div class="mobile-launcher" onclick="window.location.href='/game/app-play.html'" style="
            display: none;
            position: relative;
            width: 100%;
            max-width: 480px;
            margin: 0 auto 20px auto;
            aspect-ratio: 9 / 16;
            background: #000 url('../assets/images/play-giddys-blinko.PNG') center/cover no-repeat;
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
         ">
                    <div style="
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90px;
            height: 90px;
            background: rgba(255,255,255,0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: #000;
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        ">
                        ‚ñ∂
                    </div>
                </div>

                <!-- DESKTOP-ONLY UNITY EMBED -->
                <div class="desktop-only">
                    <div class="unity-container unity-desktop">
                        <canvas id="unity-canvas" width="960" height="600" tabindex="-1"></canvas>

                        <div id="unity-loading-bar">
                            <div id="unity-logo"></div>
                            <div id="unity-progress-bar-empty">
                                <div id="unity-progress-bar-full"></div>
                            </div>
                        </div>

                        <div id="unity-warning"></div>

                        <div id="unity-footer">
                            <div id="unity-webgl-logo"></div>
                            <div id="unity-fullscreen-button"></div>
                            <div id="unity-build-title">Giddy's Blinko</div>
                        </div>
                    </div>
                </div>

                <footer>
                    <p class="align-center">Giddy's Blinko ‚Äî Live Now! <br />
                        <a href="blinko.html">More Information</a>
                    </p>
                </footer>
            </section>
        </div>

        <!-- Footer -->
        <footer id="footer">
            <section>
                <form method="post" action="https://formspree.io/f/mzzbzojq" onsubmit="return verifyRecaptcha()">
                    <h2 class="centered-heading">Got Questions?</h2>
                    <div class="fields">
                        <div class="field">
                            <label for="name">Name</label>
                            <input type="text" name="name" id="name" required>
                        </div>
                        <div class="field">
                            <label for="email">Email</label>
                            <input type="email" name="email" id="email" required>
                        </div>
                        <div class="field">
                            <label for="message">Message</label>
                            <textarea name="message" id="message" rows="3" required></textarea>
                        </div>
                    </div>
                    <div class="g-recaptcha" data-sitekey="6LeHSWsqAAAAABWNk60dgafwA26pWZiQoNi8ZUTa"></div>
                    <ul class="actions">
                        <li><input type="submit" value="Send Message"></li>
                    </ul>
                </form>
                <script>
                    function verifyRecaptcha() {
                        var response = grecaptcha.getResponse();
                        if (response.length == 0) {
                            alert("Please complete the reCAPTCHA.");
                            return false;
                        } else {
                            return true;
                        }
                    }
                </script>
            </section>

            <!-- Footer Social Location, Links & Other Contact -->
            <section class="split contact">
                <section>
                    <h3>Location</h3>
                    <p>British Columbia, Canada</p>
                </section>
                <section>
                    <h3>Email</h3>
                    <p><a href="mailto:me@ofidcrypt.com">me@ofidcrypt.com</a></p>
                </section>
                <section>
                    <h3>Telegram</h3>
                    <p><a href="https://t.me/OFiDBall">OFiDCrypt eùïèP Web3‚Ñ¢</a></p>
                </section>
                <!-- Hvr -->
                <section>
                    <a href="https://www.ofidcrypt.ca" aria-label="Hvr">
                        <img src="../assets/images/hvr-logo02.svg" alt="Hvr Logo" id="contact-img"
                            class="custom-site-icon-contact">
                    </a>
                    <p><a href="https://www.ofidcrypt.ca">OFiDCrypt.ca</a></p>
                </section>
                <section>
                    <h3>Social</h3>
                    <ul class="icons alt">
                        <li><a href="https://x.com/OFiDCrypt" class="icon brands fa-x-twitter"><span
                                    class="label">X</span></a></li>
                        <li><a href="https://youtube.com/@OFiDCrypt" class="icon brands fa-youtube"><span
                                    class="label">YouTube</span></a></li>
                        <li><a href="https://www.tiktok.com/@Giddys_CA" class="icon brands alt fa-tiktok"><span
                                    class="label">TikTok</span></a></li>
                        <li><a href="https://www.facebook.com/OFiDCrypt" class="icon brands alt fa-facebook-f"><span
                                    class="label">Facebook</span></a></li>
                        <li><a href="https://linkedin.com/company/OFiDCrypt" class="icon brands alt fa-linkedin"><span
                                    class="label">LinkedIn</span></a></li>
                    </ul>
                </section>
            </section>
        </footer>

        <!-- Copyright -->
        <div id="copyright">
            <ul>
                <li><a href="../docs/main.html">Docs</a></li>
                <li><a href="../community.html">News & PR</a></li>
                <li><a href="../pages/affiliate.html">Partners</a></li>
                <li><a href="../pages/about.html">About</a></li>
            </ul>
            <ul>
                <li>¬© OF<span class="i">i</span>DCrypt eùïèP Web3‚Ñ¢ 2025</li>
            </ul>
            <ul>
                <li>Design: <a href="https://html5up.net">HTML5 UP</a></li>
            </ul>
        </div>

        <!-- Footer Extended Links Container -->
        <div class="footer-extended-container">
            <section class="footer-extended">
                <h1 class="left-aligned">
                    <span class="smaller-heading">Partner Token Projects</span><br />
                </h1>
                <ul>
                    <li><a href="../kincommunity.html#one-kin">$ONE</a></li>
                    <li><a href="../kincommunity.html#one-kin">$KIN</a></li>
                    <li><a href="../kincommunity.html#token-partners">$DOBBY</a></li>
                    <li><a href="../kincommunity.html#token-partners">$DUNO</a></li>
                    <li><a href="../kincommunity.html#token-partners">$MYLO</a></li>
                </ul>
            </section>

            <section class="footer-extended">
                <h1 class="left-aligned">
                    <span class="smaller-heading">Affiliate Partnerships</span><br />
                </h1>
                <ul>
                    <li><a href="../pages/affiliate.html#kraken">Kraken</a></li>
                    <li><a href="../pages/affiliate.html#ledger">Ledger</a></li>
                </ul>
            </section>

            <section class="footer-extended">
                <h1 class="left-aligned">
                    <span class="smaller-heading">Tech & Site Partners</span><br />
                </h1>
                <ul>
                    <li><a href="../pages/affiliate.html#hvr">HVR Technologies</a></li>
                    <li><a href="https://x.com/GFDevSoft">GFDevSoft</a></li>
                </ul>
            </section>

            <section class="footer-extended">
                <h1 class="left-aligned">
                    <span class="smaller-heading">Collab Communities</span><br />
                </h1>
                <ul>
                    <li><a href="../kincommunity.html">ONE Kin</a></li>
                    <li><a href="https://x.com/_WEB3M_">WEB3M</a></li>
                    <li><a href="https://x.com/theweb3family">The Web3 Family</a></li>
                </ul>
            </section>
        </div>

        <script>
            // Switch Visual Mode - Dark Mode Light Mode
            document.addEventListener('DOMContentLoaded', (event) => {
                console.log('DOM fully loaded and parsed');

                const darkModeToggle = document.querySelector('#darkModeToggle'); // Assuming this was your original toggle
                const newDarkModeToggle = document.querySelector('ul.icons li a img.custom-site-icon'); // New button

                function toggleDarkMode() {
                    document.body.classList.toggle('dark-mode');
                    darkModeToggle.classList.toggle('dark');
                    const isDarkMode = document.body.classList.contains('dark-mode');
                    localStorage.setItem('dark-mode', isDarkMode);

                    const icon = darkModeToggle.querySelector('i');
                    if (isDarkMode) {
                        icon.classList.remove('fa-sun');
                        icon.classList.add('fa-moon');
                        console.log('Switched to dark mode (moon icon)');
                    } else {
                        icon.classList.remove('fa-moon');
                        icon.classList.add('fa-sun');
                        console.log('Switched to light mode (sun icon)');
                    }
                }

                // Check local storage for dark mode on page load
                if (localStorage.getItem('dark-mode') === 'true') {
                    document.body.classList.add('dark-mode');
                    darkModeToggle.classList.add('dark');
                    const icon = darkModeToggle.querySelector('i');
                    icon.classList.add('fa-moon');
                    icon.classList.remove('fa-sun');
                    console.log('Dark mode restored from local storage');
                }

                // Event listener for original toggle button
                if (darkModeToggle) {
                    darkModeToggle.addEventListener('click', function (event) {
                        event.preventDefault();
                        toggleDarkMode();
                    });
                } else {
                    console.warn('Dark Mode Toggle button not found');
                }

                // Event listener for the new button
                if (newDarkModeToggle) {
                    newDarkModeToggle.parentElement.addEventListener('click', function (event) {
                        event.preventDefault();
                        toggleDarkMode();
                    });
                    newDarkModeToggle.parentElement.addEventListener('touchstart', function (event) {
                        event.preventDefault();
                        toggleDarkMode();
                    });
                } else {
                    console.warn('New Dark Mode Toggle button not found');
                }
            });
        </script>

        <script>
            var container = document.querySelector("#unity-container");
            var canvas = document.querySelector("#unity-canvas");
            var loadingBar = document.querySelector("#unity-loading-bar");
            var progressBarFull = document.querySelector("#unity-progress-bar-full");
            var fullscreenButton = document.querySelector("#unity-fullscreen-button");
            var warningBanner = document.querySelector("#unity-warning");

            function unityShowBanner(msg, type) {
                function updateBannerVisibility() {
                    warningBanner.style.display = warningBanner.children.length ? 'block' : 'none';
                }
                var div = document.createElement('div');
                div.innerHTML = msg;
                warningBanner.appendChild(div);
                if (type == 'error') div.style = 'background: red; padding: 10px;';
                else {
                    if (type == 'warning') div.style = 'background: yellow; padding: 10px;';
                    setTimeout(function () {
                        warningBanner.removeChild(div);
                        updateBannerVisibility();
                    }, 5000);
                }
                updateBannerVisibility();
            }

            var buildUrl = "Build";
            var loaderUrl = buildUrl + "/GiddGameWeb.loader.js";
            var config = {
                dataUrl: buildUrl + "/GiddGameWeb.data.unityweb",
                frameworkUrl: buildUrl + "/GiddGameWeb.framework.js.unityweb",
                codeUrl: buildUrl + "/GiddGameWeb.wasm.unityweb",
                streamingAssetsUrl: "StreamingAssets",
                companyName: "DefaultCompany",
                productName: "giddy",
                productVersion: "1.0",
                showBanner: unityShowBanner,
            };

            if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
                // Mobile device style: fill the whole browser client area with the game canvas

                var meta = document.createElement('meta');
                meta.name = 'viewport';
                meta.content = 'width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes';
                document.getElementsByTagName('head')[0].appendChild(meta);
                container.className = "unity-mobile";
                canvas.className = "unity-mobile";

                // === iOS PWA / Fullscreen Improvements ===
                // Enable fullscreen when added to Home Screen
                var appleCapable = document.createElement('meta');
                appleCapable.name = 'apple-mobile-web-app-capable';
                appleCapable.content = 'yes';
                document.getElementsByTagName('head')[0].appendChild(appleCapable);

                var appleStatusBar = document.createElement('meta');
                appleStatusBar.name = 'apple-mobile-web-app-status-bar-style';
                appleStatusBar.content = 'black-translucent';
                document.getElementsByTagName('head')[0].appendChild(appleStatusBar);

                // Optional: Gentle prompt for iOS users to add to Home Screen (only shows if not already installed)
                if (/iPhone|iPad|iPod/.test(navigator.userAgent) && !window.navigator.standalone) {
                    var pwaPrompt = document.createElement('div');
                    pwaPrompt.id = 'pwa-prompt';
                    pwaPrompt.innerHTML = 'For the best experience (including fullscreen), tap Share ‚Üí Add to Home Screen';
                    pwaPrompt.style.cssText = `
                position: fixed;
                bottom: 0;
                left: 0;
                width: 100%;
                background: rgba(0,0,0,0.8);
                color: white;
                text-align: center;
                padding: 12px;
                font-size: 14px;
                z-index: 1000;
                box-sizing: border-box;
            `;
                    document.body.appendChild(pwaPrompt);

                    // Auto-hide after 8 seconds
                    setTimeout(() => {
                        if (pwaPrompt && pwaPrompt.parentNode) {
                            pwaPrompt.style.transition = 'opacity 0.5s';
                            pwaPrompt.style.opacity = '0';
                            setTimeout(() => pwaPrompt.remove(), 500);
                        }
                    }, 8000);
                }
                // === End iOS Improvements ===

                // To lower canvas resolution on mobile devices to gain some performance, uncomment the following line:
                // config.devicePixelRatio = 1;
            } else {
                canvas.style.width = "960px";
                canvas.style.height = "600px";
            }

            loadingBar.style.display = "block";

            var script = document.createElement("script");
            script.src = loaderUrl;
            script.onload = () => {
                createUnityInstance(canvas, config, (progress) => {
                    progressBarFull.style.width = 100 * progress + "%";
                }).then((unityInstance) => {
                    loadingBar.style.display = "none";
                    fullscreenButton.onclick = () => {
                        unityInstance.SetFullscreen(1);
                    };
                    fullscreenButton.addEventListener('touchend', (e) => {
                        e.preventDefault();
                        unityInstance.SetFullscreen(1);
                    });
                }).catch((message) => {
                    alert(message);
                });
            };

            document.body.appendChild(script);
        </script>

        <!-- Link to non-critical JavaScript files -->
        <script src="../assets/js/jquery.scrollex.min.js"></script>
        <script src="../assets/js/jquery.scrolly.min.js"></script>
        <script src="../assets/js/util.js"></script>
        <script src="../assets/js/breakpoints.min.js"></script>
        <script src="../assets/js/main.js"></script>
</body>

</html>